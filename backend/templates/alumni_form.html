{% extends "base.html" %}
{% block title %}Add/Edit Alumnus{% endblock %}

{% block content %}
  <h2>{% if alumnus %}Edit{% else %}Add New{% endif %} Alumnus</h2>
  
  <form method="post">
    {{ form.hidden_tag() }}
    <div class="mb-3">
      {{ form.fName.label }} {{ form.fName(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.lName.label }} {{ form.lName(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.email.label }} {{ form.email(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.phone.label }} {{ form.phone(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.DOB.label }} {{ form.DOB(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.gender.label }} {{ form.gender(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.ethnicity.label }} {{ form.ethnicity(class="form-control") }}
    </div>
    <div class="mb-3">
      {{ form.website.label }} {{ form.website(class="form-control") }}
    </div>
    {{ form.submit(class="btn btn-primary") }}
  </form>

  {% if alumnus and addresses %}
  <h3 class="mt-5">Addresses</h3>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Street</th>
        <th>City</th>
        <th>State</th>
        <th>Zip</th>
        <th>Primary</th>
        <th>Active</th>
      </tr>
    </thead>
    <tbody>
      {% for addr in addresses %}
      <tr>
        <td>{{ addr.address }}</td>
        <td>{{ addr.city }}</td>
        <td>{{ addr.state }}</td>
        <td>{{ addr.zipCode }}</td>
        <td>{{ addr.primaryYN }}</td>
        <td>{{ addr.activeYN }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  {% if session.perms.insert == 'Y' %}
    <a class="btn btn-primary" href="{{ url_for('address.add_address', alumniID=alumnus.alumniID) }}">
      Add New Address
    </a>
  {% endif %}
  {% endif %}
{% endblock %}
